<div class="app-container">
    <div class="card">
        <h3>ูุดุฑ ูุฌุจุฉ ูุงุฆุถุฉ ๐ข</h3>
        
        <input type="text" id="mealName" placeholder="ุงุณู ุงููุฌุจุฉ">
        
        <select id="isFree" onchange="document.getElementById('pInput').style.display = (this.value=='paid'?'block':'none')">
            <option value="paid">ุจูููุณ (ุฏูุน ุนูููุฉ 15%)</option>
            <option value="free">ูุฌุงูู (ูุดุฑ ููุฑู)</option>
        </select>

        <div id="pInput">
            <input type="number" id="mealPrice" placeholder="ุณุนุฑ ุงููุฌุจุฉ ุงููุงุญุฏุฉ">
        </div>

        <input type="number" id="mealQty" placeholder="ุนูุฏู ูุงู ูุฌุจุฉุ">

        <button class="btn-main" onclick="publish()">ูุดุฑ ุงูุนุฑุถ</button>
    </div>
</div>

<script>
function publish() {
    const name = document.getElementById('mealName').value;
    const qty = document.getElementById('mealQty').value;
    const type = document.getElementById('isFree').value;
    const price = document.getElementById('mealPrice').value;

    if(!name || !qty) { alert("ุงูุชุจ ุงูุงุณู ูุงูุนุฏุฏ ูุง ูุญูุฏ"); return; }

    if(type === 'paid') {
        let comm = (price * qty) * 0.15;
        alert("ูุงุฒู ุชุฏูุน ุนูููุฉ " + comm + " ุฌ.ู ูุจู ูุง ููุดุฑ");
        location.href = "pay_commission.html?amount=" + comm;
    } else {
        alert("ุชู ุงููุดุฑ ูุฌุงูุงู!");
    }
}
</script>
