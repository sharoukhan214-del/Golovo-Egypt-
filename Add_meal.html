<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø´Ø± ÙˆØ¬Ø¨Ø© - ØºÙˆÙ„ÙˆÙÙˆ Ù…ØµØ±</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div class="app-container">
        <div class="card">
            <h2>ğŸ“¢ Ø§Ù†Ø´Ø± ÙˆØ¬Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</h2>
            
            <input type="text" id="mealName" placeholder="Ø§Ø³Ù… Ø§Ù„ÙˆØ¬Ø¨Ø© (Ù…Ø«Ù„Ø§Ù‹: ÙˆØ¬Ø¨Ø§Øª ÙÙ†Ø¯Ù‚ ÙØ§Ø¦Ø¶Ø©)">
            
            <select id="offerType" onchange="checkPriceStatus()" style="width:100%; padding:15px; margin:10px 0; border-radius:12px; border:1px solid #ddd; font-size:16px;">
                <option value="paid">Ø¹Ø±Ø¶ Ø¨ÙÙ„ÙˆØ³ (Ø¹Ù…ÙˆÙ„Ø© 15% Ù…Ù‚Ø¯Ù…Ù‹Ø§)</option>
                <option value="free">Ø¹Ø±Ø¶ Ù…Ø¬Ø§Ù†ÙŠ (Ù†Ø´Ø± ÙÙˆØ±ÙŠ Ø¨Ø¯ÙˆÙ† Ø¹Ù…ÙˆÙ„Ø©)</option>
            </select>

            <input type="number" id="mealPrice" placeholder="Ø§Ù„Ø³Ø¹Ø± Ù„Ù„ÙˆØ¬Ø¨Ø© Ø§Ù„ÙˆØ§Ø­Ø¯Ø© (Ø¬.Ù…)">
            <input type="number" id="mealQty" placeholder="Ø¹Ø¯Ø¯ Ø§Ù„ÙˆØ¬Ø¨Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©">
            
            <div id="commBox" style="background:#fff3cd; padding:15px; border-radius:12px; margin:15px 0; border:1px solid #ffeeba; display:block;">
                <p style="margin:0; font-size:14px; color:#856404;">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ù„Ù†Ø´Ø±:</p>
                <p style="margin:5px 0; font-size:22px; font-weight:bold; color:#d63031;"><span id="calcComm">0</span> Ø¬.Ù…</p>
            </div>

            <button id="mainBtn" class="btn-main" onclick="processOrder()" style="background:#e67e22;">Ø§Ø¯ÙØ¹ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© ÙˆØ§Ù†Ø´Ø± Ø§Ù„Ø¢Ù†</button>
        </div>
    </div>

    <script>
        // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
        document.addEventListener('input', function() {
            let p = document.getElementById('mealPrice').value || 0;
            let q = document.getElementById('mealQty').value || 0;
            let comm = (p * q) * 0.15;
            document.getElementById('calcComm').innerText = comm.toFixed(2);
        });

        function checkPriceStatus() {
            let type = document.getElementById('offerType').value;
            let priceInput = document.getElementById('mealPrice');
            let box = document.getElementById('commBox');
            let btn = document.getElementById('mainBtn');

            if(type === 'free') {
                priceInput.value = 0;
                priceInput.disabled = true;
                box.style.display = 'none';
                btn.innerText = "Ù†Ø´Ø± Ø§Ù„Ø¹Ø±Ø¶ Ù…Ø¬Ø§Ù†Ø§Ù‹ ÙÙˆØ±Ø§Ù‹";
                btn.style.background = "#2ecc71";
            } else {
                priceInput.disabled = false;
                box.style.display = 'block';
                btn.innerText = "Ø§Ø¯ÙØ¹ Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© ÙˆØ§Ù†Ø´Ø± Ø§Ù„Ø¢Ù†";
                btn.style.background = "#e67e22";
            }
        }

        function processOrder() {
            let type = document.getElementById('offerType').value;
            let name = document.getElementById('mealName').value;
            let qty = document.getElementById('mealQty').value;

            if(!name || !qty) {
                alert("Ù…Ù† ÙØ¶Ù„Ùƒ ÙƒÙ…Ù„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ù„Ø§Ø³Ù… ÙˆØ§Ù„Ø¹Ø¯Ø¯)");
                return;
            }

            if(type === 'paid') {
                let finalComm = document.getElementById('calcComm').innerText;
                alert("Ø³ÙŠØªÙ… ØªØ­ÙˆÙŠÙ„Ùƒ Ù„Ø¯ÙØ¹ " + finalComm + " Ø¬.Ù… Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ù†Ø´Ø±");
                window.location.href = "pay_commission.html?amount=" + finalComm;
            } else {
                alert("Ø´ÙƒØ±Ø§Ù‹ Ù„Ù…Ø³Ø§Ù‡Ù…ØªÙƒ! ØªÙ… Ù†Ø´Ø± Ø§Ù„Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø¬Ø§Ù†ÙŠ.");
                // ÙƒÙˆØ¯ Ø§Ù„Ø­ÙØ¸ Ø§Ù„ÙØ¹Ù„ÙŠ Ù‡Ù†Ø§
            }
        }
    </script>
</body>
</html>
